!!!
html
  head
    title MongoDB Contributor Hub
    link(rel='stylesheet', href='/libs/bootstrap/css/bootstrap.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
  body

    .container
      .row
        .span7.header
          a(href="/")
            img(src="/images/logo-white.png")
        .span5.search
          form.navbar-search.pull-right(action="/search", method="get")
            input.search-query(type="text", name="term", placeholder="Search", value=locals.term ? term : '')
      .row
        .span3
          .nav.nav-list
            ul.nav.nav-list
              li.nav-header Languages
              each lang in langs
                li
                  a(href="/language/#{encodeURIComponent(lang.language)}")
                    = lang.language == null ? 'Unknown ' : lang.language + ' '
                    span (#{lang.count})
        .span9
          table.table.table-striped
            thead
              tr
                td Project Name
                td Owner
                td Followers
                td Forks
            each project in projects
              tr.project
                td 
                  a(href="http://github.com/#{encodeURIComponent(project.owner)}/#{encodeURIComponent(project.name)}", target="_blank") #{project.name}
                td(owner='#{project.owner}')
                  a(href="http://github.com/#{encodeURIComponent(project.owner)}", target="_blank") #{project.owner}
                td #{project.followers}
                td #{project.forks}

        ul.pager
          if locals.term
            li(class= 0 === page ? 'disabled' : '')
              a(href="/search?term=#{term}&page=#{page > 0 ? page-1 : page}") Previous
            li(class= projects.length < 20 ? 'disabled' : '')
              a(href="/search?term=#{term}&page=#{page+1}") Next
          else
            - lang = encodeURIComponent(lang || '');
            li(class= 0 === page ? 'disabled' : '')
              a(href="/language/#{lang}?page=#{page > 0 ? page-1 : page}") Previous
            li(class= projects.length < 20 ? 'disabled' : '')
              a(href="/language/#{lang}?page=#{page+1}") Next

      .row
        .span12.footer Copyright &copy; #{(new Date()).getFullYear()} 10gen, Inc. Licensed under Creative Commons. MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of 10gen, Inc.

    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js")
    script(src="/libs/bootstrap/js/bootstrap.min.js")
    script
      $(document).ready(function(){
        if($("tr.project").size() < 20) {
          $("ul.pager").hide();
        } else {
          $("ul.pager").show();
        }
      });
